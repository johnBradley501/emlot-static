# Introduction to browse.js
The `browse.js` Javascript file holds the code that manages the facetted browsing mechanism that operates on the left side of the browsing HTML pages.  Unlike `ksearch.js` which manages the keyword searching and is relatively simple, `browse.js` is rather more complicated.

Functions are provided to support the following classes of operations:
* Code handle the accordion-like display of facets and facet values in the right hand area.
* Code is here to handle facet selection from the user and handle the selected items that are to be included, and pass them to code in `listdisp.js` that will display them in the right hand area of the page.
* Code to handle facet filtering is here.  Filtering steps are thought here as a stack, which is held in variable `facetSelectionStack`.  Lists of filtered items are calculated as intersection sets using the `makeIntersection()` function.

## Data needed for browse.js
`browse.js` needs to be used in an context in a browse HTML page where the following pieces of information are provided to it (from the `db/data` folder)
* One of the facet-data files must be included.  For example, for facetted browsing of events, the `facets-event.js` file must be available.  These files contain the initial facet data including what facets are available, what facet values each contains, and what items are included in each facet value.  This file is generated by the python script `facet-maker.py`. From the data here `browse.js` will be able to generate the list of facet values for each facet, and will have available the list of items that are initially (before user filtering) associated with that particular facet value.
* One of the "ks files" (for example, for the facetted browsing of events, the `ks-events.js` file) must be present.  This provides the data that can generate the list of selected items that appears in the right-side of the browse HTML page, and is generated by `listdispl.js`.
* Although not directly needed by browse.js itself, the `ptvdata.js` file should also be made available, since it is often needed for the generation of tabular display of selected items that `listdispl.js` creates.
